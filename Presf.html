<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Creating Script file and Plotting</title>
    <meta charset="utf-8" />
    <meta name="author" content="Zulquar Nain" />
    <meta name="date" content="2020-04-17" />
    <link href="site_libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="site_libs/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <link href="site_libs/remark-css-0.0.1/rutgers-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="style1.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Creating Script file and Plotting
### Zulquar Nain
### AMU
### 2020-04-17

---




&lt;style type="text/css"&gt;
.code-bg-red .remark-code, .code-bg-red .remark-code * {
 background-color:red!important;
}
&lt;/style&gt;


# Script file

--
R script?

--

While you can run/execute **r code** using `R console` with ease.

It is time consuming. 

Each time you have to re-enter a command to execute it.

--

* Be calm, we have solution that is `R script`

--

A script is simply a text file containing a set of commands and comments. The script can be saved and used later to re-execute the saved commands. The script can also be edited so you can execute a modified version of the commands.


---

# Creating R Script

Create new script file: File -&gt; New File -&gt; R Script

--

![](images/new-script.gif)

--

Find detailed description [HERE](http://mercury.webster.edu/aleshunas/R_learning_infrastructure/R%20scripts.html)


---

class: inverse, center, middle

background-image: url("images/data-visualization.jpg")
background-size: cover
# Plotting


[Image:BoldBI](https://www.boldbi.com/blog/data-visualization-importance-and-benefits)

---


# Visualization

**Data visualization** is the process to transform the information (data) into a visual presentation for example graph.

--

Visualisation / Plotting is one of greatest strength of `R`

--

Why `visualisation/Plotting`?

--

An image speaks louder than words

--

Data visualizations make data easier for the human brain to understand

--

visualization also makes it easier to detect patterns, trends, and outliers in groups of data

--

Good data .color[visualizations] should place meaning into complicated datasets so that their message is clear and concise.

--

&lt;ru-blockquote&gt;According to Tableau, “[data visualization is] one of the most useful professional skills to develop. The better you can convey your points visually, the better you can leverage that information.”&lt;/ru-blockquote&gt;


---

class: center, middle, inverse

# Ingredients for plotting

--

.left[Data]

Materials to visualise that is data. No data no visualisation!

--

.left[Mapping: Contextual relationship]

Mapping depends on what YOU want to show!


---
# Data

--

Import

--

See last lecture for importing external data

--

## Mapping 

--

We will learn!

--
A basic graph 

--



```r
plot(cars$speed, cars$dist, pch = 19, col = 'red', las = 1, xlab="speed", ylab="Distance", main = "Speed Vs Distance")
```

![](Presf_files/figure-html/unnamed-chunk-3-1.svg)&lt;!-- --&gt;

---

# Plotting- Setting

### We will use inbuild data sets in `R`

--

### To view available datasets in `R` Type `data()` and execute 

--

### We will primarily use `data(cars)`

--

### Most used function for plotting in `R` is `plot()`

--

.center[![](example_1.gif)]

---

# Data-Cars


```r
data(cars)
```
--

### Examining data

--

Do you remember? `head()` ; `tail()` ; `nrow()` 

--

.pull-left[


```r
head(cars, 2)
```

```
##   speed dist
## 1     4    2
## 2     4   10
```

```r
tail(cars, 2) 
```

```
##    speed dist
## 49    24  120
## 50    25   85
```
]

--

.pull-right[


```r
ncol(cars)
```

```
## [1] 2
```

```r
str(cars)
```

```
## 'data.frame':	50 obs. of  2 variables:
##  $ speed: num  4 4 7 7 8 9 10 10 10 11 ...
##  $ dist : num  2 10 4 22 16 10 18 26 34 17 ...
```
]

---
# Let's start- `Plot()`

`data(cars)` contains two variables `speed` and `distance`

--

### First plot 

Plotting speed and distance

--
.pull-left[


```r
plot(cars$speed,cars$dist)
```

&lt;img src="Presf_files/figure-html/unnamed-chunk-7-1.png" style="display: block; margin: auto;" /&gt;
]

--
.pull-right[

* Here, `cars$speed` is for `x-axis` and `cars$dist` is for `y-axis`

* In `cars$speed`, `cars` is name of the data file and `speed` is variable name

* `plot()` is command to plot


]

---

# Let's start- `Plot()`


### Second plot 

--


```r
x &lt;- seq(-pi,pi,0.1)
plot(x, sin(x))
```

&lt;img src="Presf_files/figure-html/unnamed-chunk-8-1.png" style="display: block; margin: auto;" /&gt;


--

* Here `x` is for `x-axis` (a generated data using `seq` command )

* `sin(x)` is for `y-axis` 

---

# Let's start- `Plot()`

### Adding label and Title 


```r
plot(cars$speed, cars$dist,
*    xlab = "Speed", ylab = "Distance", main = "Speed Vs Distance" )
```
&lt;img src="Presf_files/figure-html/unnamed-chunk-10-1.png" style="display: block; margin: auto;" /&gt;

--

* Here to add the label, we have added the highlighted codes. 

* Names of the label should always be in `""`

---

# Let's start- `Plot()`

### Changing Color and Plot Type

* We can change the plot type with the argument `type`

.pull-left[


```r
"p" - points
"l" - lines
"b" - both points and lines
"c" - empty points joined by lines
"o" - overplotted points and lines
"s" and "S" - stair steps
"h" - histogram-like vertical lines
"n" - does not produce any points or lines
```


]

.pull-right[


```r
plot(x, sin(x),
main="The Sine Function",
ylab="sin(x)",
*type="l" )
```

&lt;img src="Presf_files/figure-html/unnamed-chunk-12-1.png" style="display: block; margin: auto;" /&gt;

]

---
# Let's start- `Plot()`

### Changing Color and Plot Type

* Similarly, we can define the colors using `col="color name"`

--



```r
plot(cars$speed, cars$dist,
     xlab = "Speed", ylab = "Distance", main = "Speed Vs Distance",
*    col="red" )
```
&lt;img src="Presf_files/figure-html/unnamed-chunk-14-1.png" style="display: block; margin: auto;" /&gt;
--

* See the highlighted part of the code

---

# Let's start- `Plot()`

### Overlaying Plots

--

* Do YOU remember the function/command? `seq` -- we will use HERE to generate the variables `X, Y, t`



--

* plotting

--

.pull-left[
 

```r
plot(t, X,
     main="Overlaying Graphs",
     ylab="",
     type="l",
     col="blue")
*lines(t, Y, col="red")
*legend("left",
*      c("X","Y"),
*      fill=c("blue","red")
)
```
]

--

.pull-right[
 
&lt;img src="Presf_files/figure-html/unnamed-chunk-17-1.png" style="display: block; margin: auto;" /&gt;
--

* Checkout `?plot()` and `?legend`

]

---

# Some Baisc Graphs

### R Bar Plot

--

* Let's assume `AR` contains data of .red[average rainfall] in a day of a week.





```r
barplot(AR)
```

&lt;img src="Presf_files/figure-html/unnamed-chunk-19-1.png" style="display: block; margin: auto;" /&gt;

--

* There are many other parameters can be added to `barplot()`

* Use `?barplot()` to explore

---

# Some Baisc Graphs

### R Bar Plot
--

* Some of the parameters are added here. 

--


```r
barplot(AR,
*main = "Average rainfall in a Day",
*xlab = "Centimeters (cm)",
*ylab = "Day",
*names.arg = c("Mon", "Tues", "Wed", "Thu", "Fri", "Sat", "Sun"),
*border="blue",
*col="red",
*density=20,
*horiz = TRUE,
*cex.names = .8)#To change the size of label
```

--
* See the highlighted codes

* Output in .red[next slide]

---

# Some Baisc Graphs

### R Bar Plot
--

* Some of the parameters are added here. 

--

&lt;img src="Presf_files/figure-html/unnamed-chunk-21-1.png" style="display: block; margin: auto;" /&gt;

---

# Some Baisc Graphs

### Bar Plot of Categorical Data

--

* For example marks out of 20 of ten students in Math is in vector `MM`




```
##  [1] 17 16 18 17 18 19 18 16 18 18
```

--

* Simple bar plot

--

&lt;img src="Presf_files/figure-html/unnamed-chunk-24-1.png" style="display: block; margin: auto;" /&gt;
* Does it serve pupose? -- No


---

# Some Baisc Graphs

### Bar Plot of Categorical Data

.small[
* First convert the data into categorical representation using `table()`

* Check out `?table()`
]

.code60[


```r
table(MM)
```

```
## MM
## 16 17 18 19 
##  2  2  5  1
```
]

--
.pull-left[


```r
*barplot(table(MM),
main="Marks of 10 Students",
xlab="Marks",
ylab="Count",
border="blue",
col="red",
density=10
)
```

]

--
.pull-right[

&lt;img src="Presf_files/figure-html/unnamed-chunk-27-1.png" style="display: block; margin: auto;" /&gt;
]

---

# Some Baisc Graphs

### Bar Plot of Categorical Data

#### Some more Bar plot


--

.code70[


```r
print(titanic_surv)
```

```
##               train.Pclass
## train.Survived   1   2   3
##              0  80  97 372
##              1 136  87 119
```
]

.font60[

* Here, 1, 2, and 3 represents 1st, 2nd and 3rd class in the train

* 0 and 1 is for the passenger did not survived and survived respectively in the Titanic mishap

]

.code60[


```r
*barplot(titanic_surv,
        main = "Survival of Each Class",
        xlab = "Class",
        ylab = "No of Passenger",
        col = c("red","green")
)
legend("topleft",
       c("Not survived","Survived"),
       fill = c("red","green")
)
```

]

---

# Some Baisc Graphs

### Bar Plot of Categorical Data

#### Some more Bar plot


&lt;img src="Presf_files/figure-html/unnamed-chunk-31-1.png" style="display: block; margin: auto;" /&gt;

---
# Some Baisc Graphs

### Histogram-`hist()`

--
.font60[
*  Histogram is a visual representation of the distribution of a dataset

* We will use the `data(AirPassengers)` in built in `R`

* Explore the function `hist()` using `?hist()`

* A Basic Histogram
]

.font80[
.left-column[

* put the name of your dataset in between the parentheses like `hist(AirPassengers)`

* Histogram for a specific variable can be drawn as `hist(datasetName$VariableName)`


]
]

--

.right-column[
.code70[


```r
hist(AirPassengers)
```

&lt;img src="Presf_files/figure-html/unnamed-chunk-33-1.png" style="display: block; margin: auto;" /&gt;
]
]


---

# Some Baisc Graphs

### Histogram-`hist()`

* Other parameters of `hist()`

.code70[

.pull-left[


```r
hist(AirPassengers, 
     main="Histogram for Air Passengers", 
     xlab="Passengers", 
     border="blue", 
     col="green",
*    xlim=c(100,700),
*    las=1,
*    breaks=5)
```
]

.pull-right[

&lt;img src="Presf_files/figure-html/unnamed-chunk-35-1.png" style="display: block; margin: auto;" /&gt;

]
]

--

.font80[

* `xlim=c()` &amp; `ylim=c()` fixes the range of `X` and `Y` axes

* Inside `c()` sets starting and ending points

* `las=1` rotates the label of `Y-axis` Checkout `?las`

* `breaks` is for the size/width of `Histogram BINS` Chechout `?breaks`

]

---

# Some Baisc Graphs

### Pie Chart-`Pie Chart`

--

* Pie chart is drawn using the `pie()` function in `R` programming

* This function takes in a vector of .red[non-negative] numbers.

* Basic Syntax of is `pie(x, labels, radius, main, col, clockwise)`

.content-box-blue[
.font80[

* .red[x] is a vector containing the numeric values used in the pie chart.

* .red[labels] is used to give description to the slices.

* .red[radius] indicates the radius of the circle of the pie chart.(value between −1 and +1).

* .red[main] indicates the title of the chart.

* .red[col] indicates the color palette.

* .red[clockwise] is a logical value indicating if the slices are drawn clockwise or anti clockwise.
]
]

* Explore `?pie()`

---

# Some Baisc Graphs

### Pie Chart-`Pie Chart`




--
.font70[

*  In `pie()`, `scores$Obt.Marks` is the vector of positive numbers for which `pie-chart` is drawn

* `scores$Subjects` is the labels 

* Note: `scores$Subjects` shows that `Subjects` variable has been selected from`scores` dataset
]


.code60[
.pull-left[

* `Pie Chart`


```r
pie(scores$Obt.Marks, scores$Subjects)
```

&lt;img src="Presf_files/figure-html/unnamed-chunk-37-1.png" style="display: block; margin: auto;" /&gt;

]
]

.code70[
.pull-right[

* Data


```r
print(scores)
```

```
##   Subjects Obt.Marks
## 1     Math        70
## 2      Eng        80
## 3     Urdu        60
## 4       Sc        80
## 5     Soc.        90
```

]
]

---

.font80[
# Some Baisc Graphs

### Pie Chart-`Pie Chart`

### Other parameters 
]

.code70[



```r
*piepercent&lt;- round(100*(scores$Obt.Marks)/sum((scores$Obt.Marks)), 1) # %age calculation
*pie(scores$Obt.Marks, labels = piepercent, # Labels
*   main = "Scores pie chart", # Title of chart
*   col = rainbow(length(scores$Obt.Marks))) # Color of chart
*legend("topright", # legend position
*      scores$Subjects, # legend labels
*      cex = 0.8, # size of legend texts
*  fill = rainbow(length(scores$Obt.Marks))) # legend color
```

]



&lt;img src="Presf_files/figure-html/unnamed-chunk-40-1.png" style="display: block; margin: auto;" /&gt;

---

# Some Baisc Graphs

## Scatterplot Matrix 

* In case of more than two variables and to find the correlation between one variable versus the remaining ones

* we use scatterplot matrix. `pairs()` function creates matrices of scatterplots.

* `pairs(formula, data)`

* We will use `data(mtcars)` available within `R`; explor `?mtcars`


```
##               mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4      21   6  160 110  3.9 2.620 16.46  0  1    4    4
## Mazda RX4 Wag  21   6  160 110  3.9 2.875 17.02  0  1    4    4
```

```r
pairs(~wt+mpg+disp+cyl,data = mtcars,
   main = "Scatterplot Matrix")
```

* Plot in the next slide

---

# Some Baisc Graphs

## Scatterplot Matrix 


&lt;img src="Presf_files/figure-html/unnamed-chunk-43-1.png" style="display: block; margin: auto;" /&gt;

* Plot in the next slide

---

# Multiple Plots 

.font80[

## R Function `par()`

* For drawing multiple graphs in a single plot- use `par()`

* Checkout `?par()`
]
--
.font80[
### Let's take an example 
]
--
.font80[
* For drawing two graphs in one plot 




```r
par(mfrow=c(1,2))    # set the plotting area into a 1*2 array (1 Row and 2 Col) 
*barplot(scores$Obt.Marks, names.arg = scores$Subjects, main="Barplot", las=2) # Bar plot
*pie(scores$Obt.Marks, scores$Subjects, main="Piechart", radius=1) # Pie Chart
```
* See the graph in next slide
]
--

* Here parameter `mfrow` used to specify the number of subplot we need.

--

* It takes in a vector of form `c(m, n)` which divides the given plot into `m*n` array of subplots. 

--
 
* For the above example, to plot the two graphs side by side, we have `m=1` and `n=2`. 

---

# Multiple Plots 


## R Function `par()`- Explore it for more control parameters

&lt;img src="Presf_files/figure-html/unnamed-chunk-46-1.png" style="display: block; margin: auto;" /&gt;


---

# Saving / Exporting Graph

* All types of graphs `(bar plot, pie chart, histogram)` etc. can be saved.

* Graphs can be saved as bitmap image( i.e. .png, jpeg, tiff etc) which are fixed size

* Graphs can be also saved as vector image (.pdf, .eps) which are easily resizable

* We will use the `temperature` column of built-in dataset `airquality`



---

# Saving / Exporting Graph

## Saving as `.jpeg` 
.code110[
.pull-left[


```r
jpeg(file="saving_plot1.jpeg") 
# File name
hist(Temp, col="darkgreen")
dev.off() # TO call off
```

]

]


.pull-right[

.center[Saved Graph]

.center[
![:scale 60%](saving_plot1.jpeg)

]

]

--

* Image will be saved in `working/default directory`

* we need to call the function `dev.off()` after all the plotting, to save the file and return control to the screen

* The resolution of the image by default will be `\(480\times480\)` pixel.

---

# Saving / Exporting Graph

## Saving as `.png` 

.pull-left[


```r
png(file= "F:/MEGAsync/AMU class Jan-May 2020/ECM 2073-R/Lecture 7/Lecture7/saving_plot2.png",
*width=600, height=350)
hist(Temp, col="gold")
dev.off()
```



]


.pull-right[

.center[Saved Graph]


.center[
![:scale 100%](saving_plot2.png)

]]

* You can specify the full path tp save the image at desired plcae (as above)

* You can also specify the resolution at desired level using arguments `width` and `height`

---

# Saving / Exporting Graph

## Saving as `.bmp` 

* Size of the plot can be specified in different units such as in inch, cm or mm with the argument `units` and ppi with `res`.

* The following code saves a bmp file of size `6x4 inch` and `100 ppi`.

.pull-left[

.code110[

```r
bmp(file="saving_plot3.bmp",
width=6, height=4, units="in", res=100)
hist(Temp, col="steelblue")
dev.off()
```
]




]


.pull-right[

.center[Saved Graph]


.center[
![:scale 100%](saving_plot3.bmp)

]]

---

# Saving / Exporting Graph

## Saving as `.pdf` 






```r
bmp(file="saving_plot4.pdf",
width=6, height=4, units="in", res=100)
hist(Temp, col="violet")
dev.off()
```




--

.center[Saved Graph]

.center[
![:scale 60% ](saving_plot4.pdf)

]





---

# Plotting in `R`


--

* This presentation is not exhaustive.

--

* Adopt learning by doing approach

--

* Make use of `Google` and `R Documentation`

--

* It was about basic `R` plotting

--

* Plotting has become more exciting and easy using `package-ggplot2` in `R`

--

* What is `package`? 
--
See the next slide!

-- 

&lt;img src="Presf_files/figure-html/unnamed-chunk-56-1.png" style="display: block; margin: auto;" /&gt;

---

# What is `packages`

## Packages

Packages add functionality that is not present in base R. 

Strength `R` lies in .red[packages]

--

.center[
![](images/phone-apps.png)

.small[Courtesy [Modern Dive](http://moderndive.com/2-getting-started.html#packages)]

]






---
class: inverse, middle, center
background-image: url(https://upload.wikimedia.org/wikipedia/commons/3/39/Naruto_Shiki_Fujin.svg)
background-size: contain

# .red[THANKS]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"ratio": "4:3",
"highlightLines": true,
"countIncrementalSlides": false,
"slideNumberFormat": "<div class=\"progress-bar-container\">   <div class=\"progress-bar\" style=\"width: calc(%current% / %total% * 100%);\">   </div> </div>"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
